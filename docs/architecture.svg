<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <rect width="800" height="600" rx="15" fill="#0f172a"/>
  
  <!-- Content -->
  <g font-family="Inter, system-ui, sans-serif" font-weight="500">
    <!-- Application Layer -->
    <rect x="250" y="30" width="300" height="60" rx="10" fill="#3b82f6" />
    <text x="400" y="68" text-anchor="middle" fill="white" font-size="20">Your AI-Powered App</text>
    <text x="400" y="85" text-anchor="middle" fill="#93c5fd" font-size="10">(Standard Code - Stays the same)</text>
    
    <!-- Central Control -->
    <rect x="300" y="130" width="200" height="80" rx="12" fill="#1e293b" stroke="#38bdf8" stroke-width="2"/>
    <text x="400" y="165" text-anchor="middle" fill="#38bdf8" font-size="18">Universal Runtime</text>
    <text x="400" y="185" text-anchor="middle" fill="#94a3b8" font-size="12">"The Smart Middleman"</text>

    <!-- The Middleware Pipeline - The "Guardians" -->
    <g transform="translate(200, 240)">
      <rect x="0" y="0" width="400" height="150" rx="15" fill="#111827" stroke="#475569" stroke-width="1" stroke-dasharray="5"/>
      <text x="200" y="-15" text-anchor="middle" fill="#94a3b8" font-size="14" font-style="italic">Automatic Protection Layers (Middleware)</text>
      
      <!-- Guardian 1 -->
      <rect x="20" y="20" width="360" height="35" rx="6" fill="#1e293b" stroke="#f59e0b" stroke-width="1"/>
      <text x="200" y="42" text-anchor="middle" fill="#fcd34d" font-size="14">Retry Guardian (Auto-Fixes API Glitches)</text>
      
      <!-- Guardian 2 -->
      <rect x="20" y="65" width="360" height="35" rx="6" fill="#1e293b" stroke="#10b981" stroke-width="1"/>
      <text x="200" y="87" text-anchor="middle" fill="#6ee7b7" font-size="14">Metrics Guardian (Tracks Speed &amp; Performance)</text>
      
      <!-- Guardian 3 -->
      <rect x="20" y="110" width="360" height="35" rx="6" fill="#1e293b" stroke="#ec4899" stroke-width="1"/>
      <text x="200" y="132" text-anchor="middle" fill="#fbcfe8" font-size="14">Cost Guardian (Estimated Price Per Prompt)</text>
    </g>

    <!-- The Provider Connectors -->
    <path d="M400 90 L400 130" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <path d="M400 210 L400 240" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

    <!-- Bottom Connectors -->
    <path d="M300 390 L150 450" stroke="#475569" stroke-width="2" />
    <path d="M500 390 L650 450" stroke="#475569" stroke-width="2" />

    <!-- External World -->
    <g transform="translate(50, 450)">
      <rect x="0" y="0" width="200" height="100" rx="10" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
      <text x="100" y="35" text-anchor="middle" fill="#94a3b8" font-size="12">AI MODELS</text>
      <text x="100" y="65" text-anchor="middle" fill="white" font-size="16">OpenAI / Ollama</text>
      <text x="100" y="85" text-anchor="middle" fill="#93c5fd" font-size="10">Anthropic / Google</text>
    </g>

    <g transform="translate(550, 450)">
      <rect x="0" y="0" width="200" height="100" rx="10" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
      <text x="100" y="35" text-anchor="middle" fill="#94a3b8" font-size="12">AI DATABASES</text>
      <text x="100" y="65" text-anchor="middle" fill="white" font-size="16">Qdrant / Chroma</text>
      <text x="100" y="85" text-anchor="middle" fill="#93c5fd" font-size="10">Pinecone / Memory</text>
    </g>
  </g>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 Z" fill="#475569" />
    </marker>
  </defs>
</svg>
